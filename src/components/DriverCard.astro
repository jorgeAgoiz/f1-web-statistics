---
import type { Driver } from "../pages/drivers.astro";
import { calculateAge } from '../utils/calculateAge'

interface Props {
  driver: Driver;
}

const { driver } = Astro.props as Props;
const birthday: number = calculateAge(driver.birthday)
---

<div class="driver-card">
  <div class="driver-card-inner">
    <div class="driver-card-front">
      <h1>{driver.name}</h1>
      <div class="driver-card-front_titles">
        <h4>Pais :</h4>
        <h3>{driver.country}</h3>  
      </div>
      <div class="driver-card-front_titles">
        <h4>Dorsal :</h4>
        <h3>{driver.dorsal_number}</h3>  
      </div>
      <div class="driver-card-front_titles">
        <h4>Edad :</h4>
        <h3>{birthday} AÃ±os</h3>
      </div>
    </div>
    <div class="driver-card-back">
      <img
        src={driver.picture}
        alt="Avatar"
      />
    </div>
  </div>
</div>

<style>
  .driver-card {
    box-sizing: border-box;
    border-radius: 4px;
    width: 340px;
    height: 330px;
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    align-items: center;
  }
  .driver-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 1.2s;
    transform-style: preserve-3d;
  }
  .driver-card:hover .driver-card-inner {
    transform: rotateY(180deg);
  }
  .driver-card-front,
  .driver-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden; /* Safari */
    backface-visibility: hidden;
    border-radius: 4px;
  }
  .driver-card-front {
    background-color: var(--color-persian-green);
    border: 2px solid var(--color-jet);
  }
  .driver-card-front h1 {
    font-size: 1.5rem;
    font-family: "Orbitron";
    letter-spacing: 2px;
    margin-bottom: 28px;
  }
  .driver-card-front_titles {
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: 6px;
  }
  .driver-card-front_titles h3{
    font-size: 1.2rem;
    font-family: "Anaheim";
    letter-spacing: 1px;
    width: 50%;
  }
  .driver-card-front_titles h4{
    font-size: 1.1rem;
    font-family: "Airstrike Bold";
    letter-spacing: 1px;
    width: 50%;
  }
  .driver-card-back {
    background-color: var(--color-persian-green);
    border: 2px solid var(--color-jet);
    transform: rotateY(180deg);
  }
  .driver-card-back img {
    width: 100%;
    height: 100%;
  }
</style>
